webpackJsonp([1],{"9CaH":function(e,n){},D2mz:function(e,n){},JzLg:function(e,n){},NHnr:function(e,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=a("7+uW"),r={render:function(){var e=this.$createElement,n=this._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]};var o=a("VU/8")({name:"App",mounted:function(){this.$router.push({name:"SPA",params:{manuscriptID:"~",pageID:"~",parallelGroupID:"~"}})}},r,!1,function(e){a("JzLg")},null,null).exports,s=a("/ocq"),i={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,n=this._self._c||e;return n("div",[n("span",{attrs:{id:"title"}},[this._v(" حيقار")]),n("span",{attrs:{id:"title-english"}},[this._v("Digital Online Edition of Arabic Ahiqar")])])}]};var l=a("VU/8")({props:{},data:function(){return{}}},i,!1,function(e){a("ZzjQ")},"data-v-2cac2124",null).exports,u={name:"Menu",props:{},data:function(){return{manuscripts:[],selectedManuscript:void 0,selectedPage:void 0}},mounted:function(){var e=this;this.$graphql.request("\n{\n  allManuscripts {\n    nodes {\n      manuscriptName\n      manuscriptId\n      pagesByManuscriptId {\n        nodes {\n          pageName\n          pageId\n        }\n      }\n    }\n  }\n}\n    ").then(function(n){e.manuscripts=n.allManuscripts.nodes,e.selectedManuscript=e.manuscripts[0],e.selectedPage=e.selectedManuscript.pagesByManuscriptId.nodes[0]}).catch(function(e){console.log("Error.",e)})},apollo:{},watch:{selectedManuscript:function(e,n){e!==n&&(this.selectedPage=e.pagesByManuscriptId.nodes[0])},selectedPage:function(e,n){e!==n&&this.$router.push({name:"SPA",params:{manuscriptID:this.selectedManuscript.manuscriptId,pageID:this.selectedPage.pageId,parallelGroupID:"~"}})}}},p={render:function(){var e=this,n=e.$createElement,a=e._self._c||n;return a("div",[0===e.manuscripts.length?a("span",[e._v("Loading...")]):e._e(),e._v(" "),e.manuscripts.length>0?a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedManuscript,expression:"selectedManuscript"}],on:{change:function(n){var a=Array.prototype.filter.call(n.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedManuscript=n.target.multiple?a:a[0]}}},e._l(e.manuscripts,function(n){return a("option",{key:n.manuscriptName,domProps:{value:n}},[e._v("\n          "+e._s(n.manuscriptName)+"\n      ")])})):e._e(),e._v(" "),e.selectedManuscript?a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedPage,expression:"selectedPage"}],on:{change:function(n){var a=Array.prototype.filter.call(n.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedPage=n.target.multiple?a:a[0]}}},e._l(e.selectedManuscript.pagesByManuscriptId.nodes,function(n){return a("option",{key:e.selectedManuscript.manuscriptName+"-"+n.pageId,domProps:{value:n}},[e._v("\n          "+e._s(n.pageName)+"\n      ")])})):e._e()])},staticRenderFns:[]};var c=a("VU/8")(u,p,!1,function(e){a("tTam")},"data-v-f064eaea",null).exports,d={render:function(){var e=this.$createElement;return(this._self._c||e)("span",{style:{background:this.$route.params.parallelGroupID===this.word.parallelGroupId?"lightblue":"none"},on:{mouseenter:this.mouseOver}},[this._v("\n  "+this._s(this.word.surface)+"\n")])},staticRenderFns:[]};var m={props:{},components:{"manuscript-word":a("VU/8")({props:{word:{}},data:function(){return{}},methods:{mouseOver:function(){this.$router.push({name:"SPA",params:{manuscriptID:this.$route.params.manuscriptID,pageID:this.$route.params.pageID,parallelGroupID:this.word.parallelGroupId}})}}},d,!1,function(e){a("9CaH")},"data-v-cb9cf77c",null).exports},data:function(){return{lines:[],manuscriptName:"",pageName:""}},watch:{$route:function(e,n){var a=this;e.params!==n.params&&(this.$graphql.request("\n{\n  pageByPageId(pageId:"+e.params.pageID+"){\n    colsByPageId {\n      nodes {\n        linesByColId {\n          nodes {\n            lineName\n            wordsByLineId {\n              nodes {\n                surface\n                positionInDocument\n                parallelGroupId\n\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n        ").then(function(e){a.lines=e.pageByPageId.colsByPageId.nodes[0].linesByColId.nodes}).catch(function(e){console.log("Error.",e)}),this.$graphql.request("\n{\n  pageByPageId(pageId:"+e.params.pageID+") {\n    pageName\n    manuscriptByManuscriptId{\n      manuscriptName\n    }\n  }\n}\n        ").then(function(e){a.pageName=e.pageByPageId.pageName,a.manuscriptName=e.pageByPageId.manuscriptByManuscriptId.manuscriptName}).catch(function(e){console.log("Error.",e)}))}}},g={render:function(){var e=this,n=e.$createElement,a=e._self._c||n;return a("div",[a("h1",[e._v(e._s(e.manuscriptName)+", page "+e._s(e.pageName))]),e._v(" "),a("div",{staticClass:"text-view"},e._l(e.lines,function(n){return e.lines.length>0?a("div",{key:n.lineID,attrs:{dir:"rtl"}},[a("span",[e._v(e._s(n.lineName)+": ")]),e._l(n.wordsByLineId.nodes,function(e){return a("manuscript-word",{attrs:{word:e}})})],2):e._e()}))])},staticRenderFns:[]};var h=a("VU/8")(m,g,!1,function(e){a("D2mz")},"data-v-f05d2940",null).exports,v={props:{},data:function(){return{loading:!1,apparatus:[]}},watch:{$route:function(e,n){var a=this;"~"!==e.params.parallelGroupID&&e.params!==n.params&&(this.loading=!0,this.$graphql.request("\n{\n  parallelGroupByParallelGroupId(parallelGroupId: "+e.params.parallelGroupID+") {\n    wordsByParallelGroupId {\n      nodes {\n        surface\n        lineByLineId{\n          colByColId {\n            pageByPageId {\n              manuscriptByManuscriptId{\n                manuscriptName\n              }\n            }\n          }\n        }\n      }\n    }\n    parallelGroupToParallelGroupsByParallelGroupId1 {\n      nodes {\n        parallelGroupByParallelGroupId2 {\n          wordsByParallelGroupId {\n            nodes {\n              surface\n              lineByLineId{\n                colByColId {\n                  pageByPageId {\n                    manuscriptByManuscriptId{\n                      manuscriptName\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n        ").then(function(e){var n=[];e.parallelGroupByParallelGroupId.wordsByParallelGroupId.nodes.forEach(function(e){n.push(e.surface)});var t={manuscriptName:e.parallelGroupByParallelGroupId.wordsByParallelGroupId.nodes[0].lineByLineId.colByColId.pageByPageId.manuscriptByManuscriptId.manuscriptName,original:n},r=[];e.parallelGroupByParallelGroupId.parallelGroupToParallelGroupsByParallelGroupId1.nodes.forEach(function(e){if(e.parallelGroupByParallelGroupId2.wordsByParallelGroupId.nodes.length>0){var n={manuscriptName:e.parallelGroupByParallelGroupId2.wordsByParallelGroupId.nodes[0].lineByLineId.colByColId.pageByPageId.manuscriptByManuscriptId.manuscriptName,variantReading:[]};e.parallelGroupByParallelGroupId2.wordsByParallelGroupId.nodes.forEach(function(e){n.variantReading.push(e.surface)}),r.push(n)}}),t.readings=r,a.loading=!1,a.apparatus=[t]}).catch(function(e){console.log("Error.",e)}))}}},f={render:function(){var e=this,n=e.$createElement,a=e._self._c||n;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}]},[a("span",[e._v("Loading...")])]),e._v(" "),e._l(e.apparatus,function(n){return a("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],attrs:{dir:"rtl"}},[a("div",[a("span",[e._v(e._s(n.manuscriptName)+":")]),e._v(" "),e._l(n.original,function(n){return a("span",[e._v("\n      "+e._s(n)+"\n    ")])})],2),e._v(" "),e._l(n.readings,function(n){return a("div",[a("span",[e._v(e._s(n.manuscriptName)+":")]),e._v(" "),e._l(n.variantReading,function(n){return a("span",[e._v("\n      "+e._s(n)+"\n    ")])})],2)})],2)})],2)},staticRenderFns:[]};var I=a("VU/8")(v,f,!1,function(e){a("aAAq")},"data-v-29f257fa",null).exports,y=a("Dd8w"),B=a.n(y),_=a("6gEN"),P=a.n(_),w={props:{id:{type:String,default:"openseadragon-viewer"},prefixUrl:{type:String,default:"/node_modules/openseadragon/build/openseadragon/images/"},zoom:"",maxZoomLevel:{type:Number},ajaxWithCredentials:{type:Boolean},showNavigator:{type:Boolean},homeFillsViewer:{type:Boolean},navigatorId:{type:String},toolbar:{type:String},zoomInButton:{type:String},zoomOutButton:{type:String},homeButton:{type:String},fullPageButton:{type:String},panHorizontal:{type:Boolean,default:!0},panVertical:{type:Boolean,default:!0},mouseNavEnabled:{type:Boolean,default:!0}},components:{},data:function(){return{tileSources:"",viewer:void 0}},computed:{seaDragonSettings:function(){return B()({id:this.id,tileSources:this.tileSources,prefixUrl:this.prefixUrl,ajaxWithCredentials:this.ajaxWithCredentials,showNavigator:this.showNavigator,homeFillsViewer:this.homeFillsViewer,panHorizontal:this.panHorizontal,panVertical:this.panVertical,mouseNavEnabled:this.mouseNavEnabled},this.maxZoomLevel&&{maxZoomLevel:this.maxZoomLevel},this.navigatorId&&{navigatorId:this.navigatorId},this.toolbar&&{toolbar:this.toolbar},this.zoomInButton&&{zoomInButton:this.zoomInButton},this.zoomOutButton&&{zoomOutButton:this.zoomOutButton},this.homeButton&&{homeButton:this.homeButton},this.fullPageButton&&{fullPageButton:this.fullPageButton},{showZoomControl:!1,showHomeControl:!1,showFullPageControl:!1})}},mounted:function(){this.viewer=P()(this.seaDragonSettings)},watch:{zoom:function(e,n){this.viewer.viewport.zoomTo(e)},$route:function(e,n){var a=this;"~"!==e.params.pageID&&e.params.pageID!==n.params.pageID&&this.$graphql.request("\n{\n  pageByPageId(pageId:"+e.params.pageID+") {\n    filename\n    urlByUrlId{\n      url\n    }\n  }\n}\n        ").then(function(e){a.tileSources=e.pageByPageId.urlByUrlId.url+e.pageByPageId.filename,a.viewer.open(a.tileSources),console.log(a.tileSources)}).catch(function(e){console.log("Error.",e)})}}},N={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"open-sea-dragon",attrs:{id:this.id}})},staticRenderFns:[]};var G={components:{Header:l,Menu:c,manuscript:h,"instant-variants":I,"open-seadragon":a("VU/8")(w,N,!1,function(e){a("Yvey")},"data-v-206f7f14",null).exports}},D={render:function(){var e=this.$createElement,n=this._self._c||e;return n("div",{attrs:{id:"spa"}},[n("Header",{attrs:{id:"ahiqar-header"}}),this._v(" "),n("Menu",{attrs:{id:"ahiqar-menu"}}),this._v(" "),n("manuscript",{attrs:{id:"ahiqar-manuscript"}}),this._v(" "),n("open-seadragon",{attrs:{id:"ahiqar-open-seadragon"}}),this._v(" "),n("instant-variants",{attrs:{id:"ahiqar-instant-variants"}})],1)},staticRenderFns:[]};var M=a("VU/8")(G,D,!1,function(e){a("rOzg")},"data-v-c0f96e60",null).exports;t.a.use(s.a);var E=new s.a({routes:[{path:"/spa/manuscript-id/:manuscriptID/page-id/:pageID/parallel-group-id/:parallelGroupID",name:"SPA",component:M}]}),x=a("4rMC");t.a.use(x.a);var z=new x.a.Client("https://db.brown-devost.com/ahiqar",{headers:{Authorization:"Bearer REPLACE_WITH_YOUR_AUTH_TOKEN"}});t.a.config.productionTip=!1,new t.a({el:"#app",graphql:z,router:E,components:{App:o},template:"<App/>"})},Yvey:function(e,n){},ZzjQ:function(e,n){},aAAq:function(e,n){},rOzg:function(e,n){},tTam:function(e,n){}},["NHnr"]);
//# sourceMappingURL=app.9b55e63b3cbc3082894f.js.map